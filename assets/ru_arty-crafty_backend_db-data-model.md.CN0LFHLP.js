import{_ as a,o as e,c as t,aa as o}from"./chunks/framework.D5hYG7Sk.js";const s="/assets/db-schema-1.AjgYUqH2.webp",c="/assets/db-categories-data.DOkuO0-m.webp",d="/assets/db-products-data.C3C6uKkU.webp",r="data:image/webp;base64,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",A=JSON.parse('{"title":"Модель данных в базе данных","description":"","frontmatter":{"pageClass":"arty-crafty","head":[["meta",{"name":"og:site_name","content":"Arty-Crafty - проект онлайн магазина"}],["meta",{"name":"og:image","content":"/images/arty-crafty-logo.png"}],["meta",{"name":"twitter:image","content":"/images/arty-crafty-logo.png"}]]},"headers":[],"relativePath":"ru/arty-crafty/backend/db-data-model.md","filePath":"ru/arty-crafty/backend/db-data-model.md","lastUpdated":1709970709000}'),i={name:"ru/arty-crafty/backend/db-data-model.md"},n=o('<h1 id="модель-данных-в-базе-данных" tabindex="-1">Модель данных в базе данных <a class="header-anchor" href="#модель-данных-в-базе-данных" aria-label="Permalink to &quot;Модель данных в базе данных&quot;">​</a></h1><h2 id="сущности" tabindex="-1">Сущности <a class="header-anchor" href="#сущности" aria-label="Permalink to &quot;Сущности&quot;">​</a></h2><p>На данный момент у нас есть сущности <code>products</code> и <code>categories</code>. Отношение между ними - <strong>many-to-many</strong>. Один продукт может находиться в нескольких категориях (с учетом того, что конкретный магазин маркетплейса тоже можно рассматривать как категорию).</p><p>В реляционных базах данных такие отношения делаются отдельной таблицей, которая хранит связи между товарами и категориями.</p><p><img src="'+s+'" alt="image"></p><h2 id="данные" tabindex="-1">Данные <a class="header-anchor" href="#данные" aria-label="Permalink to &quot;Данные&quot;">​</a></h2><p>Исторически название полей в реляционных базах данных должно быть <code>snake_case</code>, но современные БД хорошо различают регистр, и поэтому удобно именовать поля так же, как они будут в JavaScript на фронтенде - тогда можно избежать преобразования имен туда-обратно, что зачастую может вылиться в очень немаленький бойлерплейт на бэкенде.</p><h4 id="categories-table" tabindex="-1">Categories table <a class="header-anchor" href="#categories-table" aria-label="Permalink to &quot;Categories table&quot;">​</a></h4><p><img src="'+c+'" alt="image"></p><h4 id="products-table" tabindex="-1">Products table <a class="header-anchor" href="#products-table" aria-label="Permalink to &quot;Products table&quot;">​</a></h4><p><img src="'+d+'" alt="image"></p><h4 id="category-product-join-table" tabindex="-1">Category-product join table <a class="header-anchor" href="#category-product-join-table" aria-label="Permalink to &quot;Category-product join table&quot;">​</a></h4><p><img src="'+r+'" alt="image"></p><p>В классических реляционных базах данных все данные находились в таблицах, большинство полей (колонок таблиц) было либо числом, либо строкой, либо timestamp. Соответственно, для firstName пользователя было своё поле, для lastName - своё. В итоге у Magento, например, свыше 200 таблиц в минимальной версии, и у некоторых таблиц могут быть десятки полей.</p><p>JSON поля сильно упрощают работу с данными и таблицами. В нашем случае у <code>products</code> есть два json поля - <code>desc</code> и <code>data</code>. В первом будут храниться данные, которые надо передать на фронтенд при запросе категории товаров (краткая информация по товарам), в <code>data</code> - уже полное описание товара для показа на странице товара, включая, например, отзывы пользователей. <code>data</code> будет намного больше по объему, чем <code>desc</code>. Это позволит делать запросы на бэкенд эффективно.</p><h2 id="поиск-по-json-полям" tabindex="-1">Поиск по json полям <a class="header-anchor" href="#поиск-по-json-полям" aria-label="Permalink to &quot;Поиск по json полям&quot;">​</a></h2><p>Одно из преимуществ реляционных баз данных - индексация полей и быстрый поиск по ним даже с десятками миллионов записей в таблице.</p><p>У нас есть форма поиска на сайте, мы, естественно, захотим искать по полному описанию товара, который находится в поле <code>data</code> таблицы <code>products</code>. Это тоже возможно, потому что MySQL, например, по каждому параметру внутри <code>json</code> поля, по которому должен быть поиск, создает дополнительное виртуальное поле в этой таблице, и индексирует его для оптимизации поиска или join-ов. Postgres наверняка делает примерно то же самое. Таким образом, хранение данных в json полях не ограничивает функционал реляционных баз данных.</p>',18),l=[n];function p(b,m,f,g,h,u){return e(),t("div",null,l)}const P=a(i,[["render",p]]);export{A as __pageData,P as default};
