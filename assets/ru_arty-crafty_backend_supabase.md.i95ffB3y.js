import{_ as a,c as e,o as t,U as s}from"./chunks/framework.P5TqXf0g.js";const o="/assets/supabase-api-keys.5Q_Ej9Wh.jpg",r="/assets/supabase-policies.OWee6Ret.jpg",f=JSON.parse('{"title":"Supabase","description":"","frontmatter":{"pageClass":"arty-crafty","head":[["meta",{"name":"og:site_name","content":"Arty-Crafty - проект онлайн магазина"}],["meta",{"name":"og:image","content":"/images/arty-crafty-logo.png"}],["meta",{"name":"twitter:image","content":"/images/arty-crafty-logo.png"}]]},"headers":[],"relativePath":"ru/arty-crafty/backend/supabase.md","filePath":"ru/arty-crafty/backend/supabase.md","lastUpdated":1706078328000}'),c={name:"ru/arty-crafty/backend/supabase.md"},p=s('<h1 id="supabase" tabindex="-1">Supabase <a class="header-anchor" href="#supabase" aria-label="Permalink to &quot;Supabase&quot;">​</a></h1><h2 id="создание-проекта" tabindex="-1">Создание проекта <a class="header-anchor" href="#создание-проекта" aria-label="Permalink to &quot;Создание проекта&quot;">​</a></h2><p>Зарегистрироваться и создать проект на Supabase достаточно несложно. После регистрации предоставляется два API ключа. Один - рутовский <code>secret</code>, и второй - <code>public</code>, для обычного доступа к REST API. В дальнейшем будем говорить только о ключе <code>public</code>.</p><p><img src="'+o+'" alt="image"></p><h2 id="безопасность-и-доступ" tabindex="-1">Безопасность и доступ <a class="header-anchor" href="#безопасность-и-доступ" aria-label="Permalink to &quot;Безопасность и доступ&quot;">​</a></h2><p>Доступ к таблицам в базе данных Supabase регулируется ключом и политиками (policies). При отсутствий политик, зная ключ через REST API можно выполнять основные CRUD SQL запросы. Соответственно, если мы делаем запрос, скажем, к таблице <code>product</code> с фронтенда, то ключ будет в бандле приложения, и вытащить его и запустить другие запросы не составит труда.</p><p>Соответственно, необходимо разрешить использование ключа для REST запросов только на чтение (select). Делается это созданием соответствующей политики у таблицы.</p><p><img src="'+r+'" alt="image"></p><p>Этого вполне достаточно для варианта &quot;Витрина&quot;, в котором не нужно размещать заказы, создавать пользователей и прочее. В дальнейшем, при необходимости записи в базу данных, придется использовать свой слой бэкенда либо иное решение.</p><p>Если использовать сервис аутентификации Supabase, то возможно создавать политики для зарегистрированных пользователей - то есть, например, позволить работать со своим профилем, личным кабинетом, заказами. Но для лучшей безопасности лучше все-таки, всё это пропускать через свой бэкенд.</p>',10),i=[p];function n(d,u,_,l,m,b){return t(),e("div",null,i)}const g=a(c,[["render",n]]);export{f as __pageData,g as default};
